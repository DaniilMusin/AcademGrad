# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AcademGrad

## –û–±—â–∏–π –æ–±–∑–æ—Ä

AcademGrad - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

## üéØ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Next.js 14** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å App Router
- **TypeScript** - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS** - –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Lucide React** - –ò–∫–æ–Ω–∫–∏
- **Chart.js** - –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **React Markdown** - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª
- **Date-fns** - –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏

### Backend
- **Supabase** - Backend-as-a-Service
- **PostgreSQL** - –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Edge Functions** - –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Deno
- **Row Level Security (RLS)** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **OpenAI GPT-4** - –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á
- **Stripe** - –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- **YooKassa** - –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏
- **Telegram Bot API** - Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **Postmark** - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **Web Push** - Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **GitHub Actions** - CI/CD

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

### 1. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–π (Presentation Layer)
```
apps/web/src/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ onboarding/        # –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ schedule/          # –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ tasks/             # –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ subscription/      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ api/               # API routes
‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Calendar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DragDropCalendar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PWAInstallPrompt.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PushNotifications.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PaymentProvider.tsx
‚îî‚îÄ‚îÄ lib/                   # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã
```

### 2. –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π (Business Logic Layer)
```
supabase/edge-functions/
‚îú‚îÄ‚îÄ badge-cron/           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä—É—á–µ–Ω–∏–µ –±–µ–π–¥–∂–µ–π
‚îú‚îÄ‚îÄ chat-task/            # AI —á–∞—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ log-attempt/          # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫
‚îú‚îÄ‚îÄ payment/              # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
‚îú‚îÄ‚îÄ tg-bot/               # Telegram –±–æ—Ç —Å inline-mode
‚îî‚îÄ‚îÄ weekly-report/        # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Å PDF
```

### 3. –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö (Data Layer)
```
supabase/migrations/
‚îú‚îÄ‚îÄ 20240701_init.sql            # –ë–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
‚îú‚îÄ‚îÄ 20240701_rls.sql             # RLS –ø–æ–ª–∏—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ 20240702_views.sql           # –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ 20240715_badges.sql          # –°–∏—Å—Ç–µ–º–∞ –±–µ–π–¥–∂–µ–π
‚îú‚îÄ‚îÄ 20240715_referral.sql        # –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ 20240720_additional_tables.sql
‚îî‚îÄ‚îÄ 20240721_functions.sql       # PL/pgSQL —Ñ—É–Ω–∫—Ü–∏–∏
```

## üóÑÔ∏è –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏
```sql
-- auth.users (Supabase Auth)
-- profiles (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ)
-- customers (—Å–≤—è–∑—å —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏)
```

#### –ö–æ–Ω—Ç–µ–Ω—Ç –∏ –∑–∞–¥–∞—á–∏
```sql
-- tasks (–±–∞–∑–∞ –∑–∞–¥–∞—á –ï–ì–≠)
-- attempts (–ø–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è)
-- recommendations (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∑–∞–¥–∞—á)
-- embeddings (–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)
```

#### –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è
```sql
-- badges (—Å–∏—Å—Ç–µ–º–∞ –±–µ–π–¥–∂–µ–π)
-- user_badges (—Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–µ–π–¥–∂–µ–π)
-- streaks (–ø–æ–ª–æ—Å—ã —Ä–µ—à–µ–Ω–∏–π)
-- achievements (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
```

#### –ü–ª–∞—Ç–µ–∂–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
```sql
-- subscriptions (–ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
-- payments (–∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π)
-- coupons (–ø—Ä–æ–º–æ–∫–æ–¥—ã)
-- refunds (–≤–æ–∑–≤—Ä–∞—Ç—ã)
```

#### –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
```sql
-- push_subscriptions (Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
-- email_templates (—à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º)
-- notifications (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
-- task_shares (—à–µ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ Telegram)
```

### –°–≤—è–∑–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã

```sql
-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤—è–∑–∏
profiles.id -> auth.users.id
attempts.user_id -> profiles.id
attempts.task_id -> tasks.id
subscriptions.user_id -> profiles.id
payments.user_id -> profiles.id

-- –ö–ª—é—á–µ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
CREATE INDEX idx_attempts_user_created ON attempts(user_id, created_at);
CREATE INDEX idx_tasks_embedding ON tasks USING ivfflat(embedding);
CREATE INDEX idx_recommendations_user ON recommendations(user_id, priority);
```

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
User ‚Üí Supabase Auth ‚Üí JWT Token ‚Üí Row Level Security
```

### 2. –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á
```
User Input ‚Üí Edge Function (chat-task) ‚Üí OpenAI API ‚Üí Response ‚Üí Database
```

### 3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```
User Activity ‚Üí Spaced Repetition Algorithm ‚Üí Vector Similarity ‚Üí Recommendations
```

### 4. –ü–ª–∞—Ç–µ–∂–∏
```
User ‚Üí Payment Provider (Stripe/YooKassa) ‚Üí Webhook ‚Üí Edge Function ‚Üí Database
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Row Level Security (RLS)
```sql
-- –ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ RLS
CREATE POLICY "Users can view own data" ON profiles
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users can update own attempts" ON attempts
  FOR INSERT WITH CHECK (auth.uid() = user_id);
```

### API Security
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Rate limiting –≤ Edge Functions
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Escape SQL injection —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –ü–ª–∞—Ç–µ–∂–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Webhook signature verification
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–µ–π
- PCI DSS compliance —á–µ—Ä–µ–∑ Stripe/YooKassa
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- Connection pooling —á–µ—Ä–µ–∑ Supabase

### Frontend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- Code splitting —á–µ—Ä–µ–∑ Next.js
- Image optimization
- PWA —Å Service Worker
- Prefetching –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- Browser cache –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- API response caching
- Redis –¥–ª—è session storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–µ—Ç—Ä–∏–∫–∏
- User engagement analytics
- Performance metrics (Core Web Vitals)
- Error tracking —á–µ—Ä–µ–∑ Sentry
- Business metrics (conversion rates)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// Edge Functions logging
console.log('User action:', { userId, action, timestamp });

// Error tracking
Sentry.captureException(error, { user, context });
```

## üöÄ –î–µ–ø–ª–æ–π –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### CI/CD Pipeline
```yaml
# .github/workflows/
‚îú‚îÄ‚îÄ ci.yml              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥
‚îú‚îÄ‚îÄ preview.yml         # Preview deployments
‚îú‚îÄ‚îÄ deploy-edge.yml     # Edge Functions deploy
‚îî‚îÄ‚îÄ cron.yml           # Scheduled tasks
```

### Environments
- **Development** - –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **Staging** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- **Production** - —Ä–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞

### Scaling Strategy
- Horizontal scaling —á–µ—Ä–µ–∑ Vercel/Supabase
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- Database read replicas –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- Edge Functions auto-scaling

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
1. **Microservices** - –≤—ã–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
2. **Event Sourcing** - –¥–ª—è –∞—É–¥–∏—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. **GraphQL** - –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
4. **Machine Learning** - –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
5. **Real-time collaboration** - –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –∑–∞–Ω—è—Ç–∏–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–≥–∏
- –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ TypeScript
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ E2E —Ç–µ—Å—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size

## üìã –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Code Style
- **DRY** - Don't Repeat Yourself
- **SOLID** - –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Composition over Inheritance**
- **Fail Fast** - —Ä–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### API Design
- RESTful endpoints
- Consistent error responses
- Versioning strategy
- Documentation with OpenAPI

### Database Design
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ 3NF
- Meaningful naming conventions
- Foreign key constraints
- Audit columns (created_at, updated_at)

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–∞ –¥–µ–∫–∞–±—Ä—å 2024. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.*